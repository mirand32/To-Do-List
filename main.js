!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);const i=t=>{let e=t.title,n=t.description,i=t.dueDate,s=t.priority,a=t.note,r=!1;return{getTitle:()=>e,getDescription:()=>n,getDueDate:()=>i,getPriority:()=>s,getNote:()=>a,editTitle:t=>{e=t},editDescription:t=>{n=t},editDueDate:t=>{i=t},editPriority:t=>{s=t},editNote:t=>{a=t},toggleFinished:()=>{r=!r},isFinished:()=>r,title:e,description:n,dueDate:i,priority:s,note:a,finished:r}},s=(t,e)=>{let n,i=t;n=void 0!==e?[...e]:[];return{getName:function(){return i},editName:function(t){i=t},getItems:()=>n,getItemsNumber:()=>n.length,addItem:t=>{n.unshift(t)},removeItem:t=>{const e=n.findIndex(e=>e.title===t);n.splice(e,1)},removeItemByIndex:function(t){n.splice(t,1)},name:i,items:n}};let a={title:"Task",description:"opis",dueDate:"2020-09-17",priority:"medium",note:"nesto"},r={title:"Zadatak",description:"Nesto",dueDate:"2020-10-21",priority:"high",note:"daaaa"};const o=(()=>{let t=s("Personal"),e=s("Work"),n=s("Grocery store"),o=i(a),d=i(r),l=i(a);t.addItem(o),t.addItem(d),e.addItem(l),e.addItem(d),n.addItem(d),n.addItem(o);let c=[t,e,n];const u=()=>{let t=localStorage.getItem("lists"),e=JSON.parse(t);return c.length=0,e.forEach(t=>{c.push(s(t.name,t.items))}),c};return{getLists:u,addList:t=>{c=u(),c.push(t),localStorage.setItem("lists",JSON.stringify(c))},removeListByName:t=>{const e=c.findIndex(e=>e.getName().toLowerCase()===t.toLowerCase());c.splice(e,1)},getList:function(t){return c.find(e=>e.getName().toLowerCase()===t.toLowerCase())},setListsToStorage:function(){c=u(),localStorage.setItem("lists",JSON.stringify(c))},getListIndex:function(t){return c.findIndex(e=>e.getName().toLowerCase()===t.toLowerCase())},removeListByIndex:function(t){c.splice(t,1)},lists:c}})(),d=(()=>{let t=!1;return{showAllTasks:function(){const e=o.getLists();t=!0,function(){const t=document.querySelector("#tasks");let e=t.lastChild;for(;e;)t.removeChild(e),e=t.lastChild}(),e.forEach(t=>{q.renderListTasks(void 0,t.getName(),!0)}),document.querySelector("#listsList").querySelectorAll("li").forEach(t=>{t.classList.remove("active")})},getAllTasks:function(){return t},setAllTasks:function(e){t=e}}})(),l={addTask:function(t){event.preventDefault();const e=document.querySelector("#title"),n=document.querySelector("#listSelect"),s=document.querySelector("#description"),a=document.querySelector("#dueDate"),r=document.querySelector("#priority"),l=document.querySelector("#note"),u=document.querySelector("#addTask"),m={title:e.value,description:s.value,dueDate:a.value,priority:r.value,note:l.value};if(u.classList.contains("enabled")&&null==n){const e=i(m),n=o.getList(t);n.addItem(e),localStorage.setItem("lists",JSON.stringify(o.lists)),j.renderLists(),j.renderShortcuts(),c.exitModalOnButton(),!1===d.getAllTasks()?q.renderListTasks(void 0,n.getName()):d.showAllTasks()}else if(u.classList.contains("enabled")&&null!==n)if(""!==n.value){const t=i(m),e=o.getList(n.value);e.addItem(t),localStorage.setItem("lists",JSON.stringify(o.lists)),j.renderLists(),j.renderShortcuts(),c.exitModalOnButton(),!1===d.getAllTasks()?q.renderListTasks(void 0,e.getName()):d.showAllTasks()}else n.style.backgroundColor="rgba(156, 54, 54, 0.4)";else e.style.backgroundColor="rgba(156, 54, 54, 0.4)"}},c=(()=>{const t=document.querySelector("#tasksContainer");document.querySelector(".taskItem");let e;function n(t){t.target===this&&e.parentNode.removeChild(e)}function i(t){const e=document.querySelector("#title"),n=document.querySelector("#addTask");e.style="",""!==e.value?n.classList.add("enabled"):n.classList.remove("enabled")}return{showModal:function(s,a){e=document.createElement("div"),e.classList.add("modalBg");const r=document.createElement("div");r.setAttribute("id","modalTask"),r.style.transform="translateX(-50%) translateY(-50%) scale(0.1)";const d=document.createElement("form");d.setAttribute("autocomplete","off");const c=document.createElement("input");let u;if(c.addEventListener("change",i),c.addEventListener("keyup",i),c.addEventListener("keydown",i),setTimeout((function(){c.focus()}),500),c.setAttribute("type","text"),c.setAttribute("id","title"),c.setAttribute("size","20"),c.setAttribute("placeholder","Task name"),c.setAttribute("maxlength","50"),"menuAddTask"===s.getAttribute("id")){u=document.createElement("select"),u.setAttribute("id","listSelect");const t=document.createElement("option");t.setAttribute("selected","selected"),t.setAttribute("hidden","hidden"),t.setAttribute("disabled","disabled"),t.setAttribute("value",""),t.textContent="Choose list:",u.appendChild(t);o.getLists().forEach(t=>{const e=document.createElement("option");e.setAttribute("value",t.getName()),e.textContent=t.getName(),u.appendChild(e)}),r.style.height="60rem",u.addEventListener("click",(function(){u.style=""})),u.addEventListener("mousedown",(function(){u.style=""}))}const m=document.createElement("input");m.setAttribute("type","text"),m.setAttribute("id","description"),m.setAttribute("size","20"),m.setAttribute("placeholder","Description");const h=document.createElement("input");h.setAttribute("type","date"),h.setAttribute("id","dueDate"),h.setAttribute("name","dueDate");const p=document.createElement("select");p.setAttribute("id","priority");const f=document.createElement("option");f.setAttribute("selected","selected"),f.setAttribute("hidden","hidden"),f.setAttribute("disabled","disabled"),f.setAttribute("value",""),f.textContent="Priority";const g=document.createElement("option");g.setAttribute("value","low"),g.textContent="Low";const v=document.createElement("option");v.setAttribute("value","medium"),v.textContent="Medium";const b=document.createElement("option");b.setAttribute("value","high"),b.textContent="High";const y=document.createElement("option");y.setAttribute("value","urgent"),y.textContent="Urgent",p.appendChild(f),p.appendChild(g),p.appendChild(v),p.appendChild(b),p.appendChild(y);const L=document.createElement("textarea");L.setAttribute("id","note"),L.setAttribute("cols","20"),L.setAttribute("rows","5"),L.setAttribute("placeHolder","Note");const C=document.createElement("button");C.setAttribute("id","addTask"),C.textContent="Add task",C.addEventListener("click",(function(){l.addTask(a)})),d.appendChild(c),"menuAddTask"===s.getAttribute("id")&&d.appendChild(u),d.appendChild(m),d.appendChild(h),d.appendChild(p),d.appendChild(L),d.appendChild(C),r.appendChild(d),e.addEventListener("click",n),e.appendChild(r),t.appendChild(e)},exitModalOnButton:function(){e.parentNode.removeChild(e)}}})(),u={addTask:function(t){const e=t.parentNode.querySelector(".quickTaskInput"),n=t.parentNode.getAttribute("id"),s={title:e.value,description:"",dueDate:"",priority:"",note:""};if(t.classList.contains("enabled")){const t=i(s),e=o.getList(n);e.addItem(t),localStorage.setItem("lists",JSON.stringify(o.lists)),j.renderLists(),j.renderShortcuts(),!1===d.getAllTasks()?q.renderListTasks(void 0,e.getName()):d.showAllTasks()}},addTaskOnEnter:function(t){const e=t,n=t.parentNode.getAttribute("id"),s={title:e.value,description:"",dueDate:"",priority:"",note:""},a=i(s),r=o.getList(n);r.addItem(a),localStorage.setItem("lists",JSON.stringify(o.lists)),j.renderLists(),j.renderShortcuts(),!1===d.getAllTasks()?q.renderListTasks(void 0,r.getName()):d.showAllTasks()}},m=(()=>{function t(t,e){const n=t.dataset.index,i=e.getItems()[n];e.getItems().splice(n,1),e.getItems().push(i),localStorage.setItem("lists",JSON.stringify(o.lists)),!1===d.getAllTasks()?q.renderListTasks(void 0,e.name):d.showAllTasks()}function e(t,e){const n=t.dataset.index,i=e.getItems()[n];e.getItems().splice(n,1),e.getItems().unshift(i),localStorage.setItem("lists",JSON.stringify(o.lists)),!1===d.getAllTasks()?q.renderListTasks(void 0,e.name):d.showAllTasks()}return{deleteTask:function(t,e){const n=o.getList(e);n.removeItemByIndex(t),localStorage.setItem("lists",JSON.stringify(o.lists)),j.renderLists(),j.renderShortcuts(),!1===d.getAllTasks()?q.renderListTasks(void 0,n.name):d.showAllTasks(),h.exitModalOnButton()},saveTask:function(t,e,n){const i=document.querySelector("#title"),s=document.querySelector("#saveTask"),a=o.getList(n);s.classList.contains("enabled")?(t.title=e.title,t.description=e.description,t.dueDate=e.dueDate,t.priority=e.priority,t.note=e.note,localStorage.setItem("lists",JSON.stringify(o.lists)),!1===d.getAllTasks()?q.renderListTasks(void 0,a.name):d.showAllTasks(),h.exitModalOnButton()):i.style.backgroundColor="rgba(156, 54, 54, 0.4)"},toggleFinishedFlag:function(n,i){const s=o.getList(i),a=n.parentNode.dataset.index;s.items[a].finished=!s.items[a].finished,localStorage.setItem("lists",JSON.stringify(o.lists)),1==s.items[a].finished?t(n.parentNode,s):e(n.parentNode,s)},deleteTaskOnCross:function(t,e){const n=o.getList(e);n.removeItemByIndex(t),localStorage.setItem("lists",JSON.stringify(o.lists)),j.renderLists(),j.renderShortcuts(),!1===d.getAllTasks()?q.renderListTasks(void 0,n.name):d.showAllTasks()},restoreTask:function(n,i,s){const a=o.getList(s);a.items[i].finished=!a.items[i].finished,localStorage.setItem("lists",JSON.stringify(o.lists)),1==a.items[i].finished?t(n,a):e(n,a),h.exitModalOnButton()}}})(),h=(()=>{const t=document.querySelector("#tasksContainer");let e;function n(t){t.target===this&&e.parentNode.removeChild(e)}function i(t){const e=document.querySelector("#saveTask");this.style.backgroundColor="",""!==this.value?e.classList.add("enabled"):e.classList.remove("enabled")}return{showInfo:function(s){if("INPUT"===s.target.tagName||"I"===s.target.tagName)return;const a=this.querySelector("p").textContent,r=this.dataset.index,d=this,l=d.dataset.list,c=o.getList(l).items[r];e=document.createElement("div"),e.classList.add("modalBg");const u=document.createElement("div");u.setAttribute("id","taskInfo"),u.style.transform="translateX(-50%) translateY(-50%) scale(0.1)";const h=document.createElement("form"),p=document.createElement("div");p.setAttribute("id","header");const f=document.createElement("h2");f.textContent="TASK DETAILS",p.appendChild(f),u.appendChild(p);const g=document.createElement("div");g.setAttribute("id","taskButtons");const v=document.createElement("button"),b=document.createElement("button"),y=document.createElement("button");!1===c.finished?(v.textContent="Delete",v.setAttribute("id","deleteTask"),v.addEventListener("click",(function(){m.deleteTask(r,l)})),b.textContent="Save",b.setAttribute("id","saveTask"),b.classList.add("enabled"),g.appendChild(v),g.appendChild(b)):(y.setAttribute("id","restoreTask"),y.textContent="Restore",y.addEventListener("click",(function(){m.restoreTask(d,r,l)})),b.textContent="Save",b.setAttribute("id","saveTask"),b.classList.add("enabled"),g.appendChild(y),g.appendChild(b));const L=document.createElement("input");L.setAttribute("type","text"),L.setAttribute("id","title"),L.setAttribute("size","20"),L.setAttribute("placeholder","Task name"),L.setAttribute("maxlength","50"),!1===c.finished&&(L.addEventListener("change",i),L.addEventListener("keydown",i),L.addEventListener("keyup",i)),L.value=""+a,setTimeout((function(){L.focus()}),500);const C=document.createElement("p");C.textContent="Description:";const k=document.createElement("input");k.setAttribute("type","text"),k.setAttribute("id","description"),k.setAttribute("size","20"),k.value=c.description;const E=document.createElement("p");E.textContent="Due date:";const A=document.createElement("input");A.setAttribute("type","date"),A.setAttribute("id","dueDate"),A.setAttribute("name","dueDate"),A.value=c.dueDate;const S=document.createElement("p");S.textContent="Priority:";const w=document.createElement("select");w.setAttribute("id","priority");const T=document.createElement("option");T.setAttribute("selected","selected"),T.setAttribute("hidden","hidden"),T.setAttribute("disabled","disabled"),T.setAttribute("value",""),T.textContent="Priority";const x=document.createElement("option");x.setAttribute("value","low"),x.textContent="Low";const M=document.createElement("option");M.setAttribute("value","medium"),M.textContent="Medium";const N=document.createElement("option");N.setAttribute("value","high"),N.textContent="High";const D=document.createElement("option");D.setAttribute("value","urgent"),D.textContent="Urgent",w.appendChild(T),w.appendChild(x),w.appendChild(M),w.appendChild(N),w.appendChild(D),""!=c.priority&&(w.value=c.priority);const I=document.createElement("p");I.textContent="Note:";const q=document.createElement("textarea");q.setAttribute("id","note"),q.setAttribute("cols","20"),q.setAttribute("rows","5"),q.value=c.note,h.setAttribute("autocomplete","off"),h.appendChild(L),h.appendChild(C),h.appendChild(k),h.appendChild(E),h.appendChild(A),h.appendChild(S),h.appendChild(w),h.appendChild(I),h.appendChild(q),u.appendChild(h),u.appendChild(g),e.addEventListener("click",n),e.appendChild(u),t.appendChild(e),b.addEventListener("click",(function(){let t={title:L.value,description:k.value,dueDate:A.value,priority:w.value,note:q.value};m.saveTask(c,t,l)}))},exitModalOnButton:function(){e.parentNode.removeChild(e)}}})();function p(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function f(t){p(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function g(t,e){p(2,arguments);var n=f(t),i=f(e),s=n.getTime()-i.getTime();return s<0?-1:s>0?1:s}function v(t,e){p(2,arguments);var n=f(t),i=f(e),s=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return 12*s+a}function b(t,e){p(2,arguments);var n=f(t),i=f(e),s=g(n,i),a=Math.abs(v(n,i));n.setMonth(n.getMonth()-s*a);var r=g(n,i)===-s,o=s*(a-r);return 0===o?0:o}function y(t,e){p(2,arguments);var n=f(t),i=f(e);return n.getTime()-i.getTime()}function L(t,e){p(2,arguments);var n=y(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var C={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function k(t){return function(e){var n=e||{},i=n.width?String(n.width):t.defaultWidth;return t.formats[i]||t.formats[t.defaultWidth]}}var E={date:k({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:k({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:k({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},A={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function S(t){return function(e,n){var i,s=n||{};if("formatting"===(s.context?String(s.context):"standalone")&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,r=s.width?String(s.width):a;i=t.formattingValues[r]||t.formattingValues[a]}else{var o=t.defaultWidth,d=s.width?String(s.width):t.defaultWidth;i=t.values[d]||t.values[o]}return i[t.argumentCallback?t.argumentCallback(e):e]}}function w(t){return function(e,n){var i=String(e),s=n||{},a=s.width,r=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],o=i.match(r);if(!o)return null;var d,l=o[0],c=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth];return d="[object Array]"===Object.prototype.toString.call(c)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}(c,(function(t){return t.test(l)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(c,(function(t){return t.test(l)})),d=t.valueCallback?t.valueCallback(d):d,{value:d=s.valueCallback?s.valueCallback(d):d,rest:i.slice(l.length)}}}var T,x={code:"en-US",formatDistance:function(t,e,n){var i;return n=n||{},i="string"==typeof C[t]?C[t]:1===e?C[t].one:C[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+i:i+" ago":i},formatLong:E,formatRelative:function(t,e,n,i){return A[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:S({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:S({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:S({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:S({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:S({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(T={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),i=e||{},s=n.match(T.matchPattern);if(!s)return null;var a=s[0],r=n.match(T.parsePattern);if(!r)return null;var o=T.valueCallback?T.valueCallback(r[0]):r[0];return{value:o=i.valueCallback?i.valueCallback(o):o,rest:n.slice(a.length)}}),era:w({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:w({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:w({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:w({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:w({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function M(t){return function(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})e.hasOwnProperty(n)&&(t[n]=e[n]);return t}({},t)}function N(t){return t.getTime()%6e4}function D(t){var e=new Date(t.getTime()),n=Math.ceil(e.getTimezoneOffset());return e.setSeconds(0,0),6e4*n+(n>0?(6e4+N(e))%6e4:N(e))}function I(t,e,n){p(2,arguments);var i=n||{},s=i.locale||x;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=g(t,e);if(isNaN(a))throw new RangeError("Invalid time value");var r,o,d=M(i);d.addSuffix=Boolean(i.addSuffix),d.comparison=a,a>0?(r=f(e),o=f(t)):(r=f(t),o=f(e));var l,c=L(o,r),u=(D(o)-D(r))/1e3,m=Math.round((c-u)/60);if(m<2)return i.includeSeconds?c<5?s.formatDistance("lessThanXSeconds",5,d):c<10?s.formatDistance("lessThanXSeconds",10,d):c<20?s.formatDistance("lessThanXSeconds",20,d):c<40?s.formatDistance("halfAMinute",null,d):c<60?s.formatDistance("lessThanXMinutes",1,d):s.formatDistance("xMinutes",1,d):0===m?s.formatDistance("lessThanXMinutes",1,d):s.formatDistance("xMinutes",m,d);if(m<45)return s.formatDistance("xMinutes",m,d);if(m<90)return s.formatDistance("aboutXHours",1,d);if(m<1440){var h=Math.round(m/60);return s.formatDistance("aboutXHours",h,d)}if(m<2520)return s.formatDistance("xDays",1,d);if(m<43200){var v=Math.round(m/1440);return s.formatDistance("xDays",v,d)}if(m<86400)return l=Math.round(m/43200),s.formatDistance("aboutXMonths",l,d);if((l=b(o,r))<12){var y=Math.round(m/43200);return s.formatDistance("xMonths",y,d)}var C=l%12,k=Math.floor(l/12);return C<3?s.formatDistance("aboutXYears",k,d):C<9?s.formatDistance("overXYears",k,d):s.formatDistance("almostXYears",k+1,d)}const q=(()=>{const t=document.querySelector("#tasks");let e;const n=()=>{let t=tasks.lastChild;for(;t;)tasks.removeChild(t),t=tasks.lastChild};function i(t){const e=this,n=this.parentNode.querySelector(".up");""!==e.value?(n.classList.add("enabled"),e.classList.add("enabled"),"Enter"===t.key&&u.addTaskOnEnter(e)):(n.classList.remove("enabled"),e.classList.remove("enabled"))}function s(t){t.querySelectorAll("li").forEach(t=>{t.classList.remove("active")})}return{renderListTasks:function(a,r,l){let f;var g;!0!==l&&(n(),d.setAllTasks(!1)),"LI"===this.tagName&&(s(this.parentNode),this.classList.add("active")),void 0!==a?f=this.firstChild.textContent:(f=r,g=f,document.querySelector("#listsList").querySelectorAll("li").forEach(t=>{t.querySelector("p").textContent===g&&t.classList.add("active")}));const v=document.createElement("div");v.classList.add("listItem");const b=document.createElement("div");b.classList.add("listHeader");const y=document.createElement("h2");y.textContent=f,b.appendChild(y);const L=document.createElement("span");L.classList.add("add"),L.addEventListener("click",(function(){c.showModal(this,f)}));const C=document.createElement("i");C.classList.add("fas"),C.classList.add("fa-plus-circle"),L.appendChild(C),b.appendChild(L),v.appendChild(b);const k=o.getList(f).getItems(),E=document.createElement("div");E.classList.add("listTasks");let A=0;k.forEach(t=>{const e=document.createElement("div");e.classList.add("taskDiv"),e.addEventListener("click",h.showInfo),e.setAttribute("data-index",A++),e.setAttribute("data-list",f);const n=document.createElement("input");n.setAttribute("type","checkbox"),n.setAttribute("id",t.title),n.setAttribute("value",t.title),n.classList.add("checkbox"),n.addEventListener("click",(function(){m.toggleFinishedFlag(this,f)}));const i=document.createElement("p");if(i.textContent=t.title,"low"===t.priority?i.style.borderBottom="3px solid rgb(22, 127, 197)":"medium"===t.priority?i.style.borderBottom="3px solid rgb(71, 185, 25)":"high"===t.priority?i.style.borderBottom="3px solid rgb(211, 153, 27)":"urgent"===t.priority&&(i.style.borderBottom="3px solid rgb(221, 53, 23)"),e.appendChild(n),e.appendChild(i),""!==t.dueDate&&!1===t.finished){const n=document.createElement("div");n.classList.add("timeRemaining"),n.textContent=function(t,e){return p(1,arguments),I(t,Date.now(),e)}(new Date(t.dueDate),{addSuffix:!0}),e.appendChild(n)}if(1==t.finished){n.checked=!0,e.classList.add("finished");const t=document.createElement("span");t.classList.add("crossIcon");const s=document.createElement("i");s.classList.add("fas","fa-times-circle"),t.addEventListener("click",(function(){m.deleteTaskOnCross(this.parentNode.dataset.index,f)})),t.appendChild(s),e.appendChild(t),i.style.border="none"}else n.checked=!1;E.appendChild(e)}),v.appendChild(E);const S=document.createElement("div");S.classList.add("quickTask"),S.setAttribute("id",f);const w=document.createElement("input");w.classList.add("quickTaskInput"),w.setAttribute("type","text"),w.setAttribute("maxlength","50"),w.setAttribute("placeholder","Click to quickly add task"),w.addEventListener("change",i),w.addEventListener("keydown",i),w.addEventListener("keyup",i);const T=document.createElement("span"),x=document.createElement("i");x.classList.add("fas"),x.classList.add("fa-arrow-circle-up"),T.appendChild(x),T.classList.add("up"),T.addEventListener("click",(function(){u.addTask(this)})),S.appendChild(w),S.appendChild(T),v.appendChild(S),t.appendChild(v),e=o.getList(f)},getCurrentList:()=>e,_deactiveAllLists:s,currentList:e}})(),O={addList:function(t){event.preventDefault();const e=t.value;if(document.querySelector("#createList").classList.contains("enabled")){const t=s(e,[]);o.addList(t),j.renderLists(),j.renderShortcuts(),P.exitModalOnButton()}else t.style.backgroundColor="rgba(156, 54, 54, 0.4)"}},P=(()=>{const t=document.querySelector("#tasksContainer");let e;function n(t){const e=this,n=document.querySelector("#createList");e.style.backgroundColor="",""!==e.value?(n.classList.add("enabled"),"Enter"===t.key&&O.addList(e)):n.classList.remove("enabled")}function i(t){t.target===this&&e.parentNode.removeChild(e)}function s(){e.parentNode.removeChild(e)}return{showModal:function(){e=document.createElement("div"),e.classList.add("modalBg"),e.addEventListener("click",i);const a=document.createElement("div");a.setAttribute("id","modalTask"),a.style.transform="translateX(-50%) translateY(-50%) scale(0.1)",a.style.width="40rem",a.style.height="15rem";const r=document.createElement("form");r.setAttribute("autocomplete","off"),r.style.width="95%",r.setAttribute("onkeydown","return event.key != 'Enter';");const o=document.createElement("input");o.addEventListener("change",n),o.addEventListener("keydown",n),o.addEventListener("keyup",n),o.addEventListener("mousedown",n),o.setAttribute("type","text"),o.setAttribute("id","title"),o.setAttribute("size","20"),o.setAttribute("placeholder","List name"),o.setAttribute("maxlength","23"),o.style.width="100%",o.style.margin="0",setTimeout((function(){o.focus()}),500);const d=document.createElement("div");d.setAttribute("id","modalButtons");const l=document.createElement("button");l.textContent="Cancel",l.setAttribute("id","cancel"),l.addEventListener("click",s);const c=document.createElement("button");c.textContent="Create",c.setAttribute("id","createList"),c.addEventListener("click",(function(){O.addList(o)})),d.appendChild(l),d.appendChild(c),r.appendChild(o),a.appendChild(r),a.appendChild(d),e.appendChild(a),t.appendChild(e)},exitModalOnButton:s}})(),W=(()=>{const t=document.querySelector("#tasksContainer");let e,n,i;function s(){const t=this,e=document.querySelector("#saveList");t.style.backgroundColor="",""!==t.value?(e.classList.add("enabled"),"Enter"===event.key&&B.saveList(i,n,t.value)):e.classList.remove("enabled")}function a(t){t.target===this&&e.parentNode.removeChild(e)}return{showModal:function(){i=this.parentNode,n=this.parentNode.textContent,e=document.createElement("div"),e.classList.add("modalBg"),e.addEventListener("click",a);const r=document.createElement("div");r.setAttribute("id","modalTask"),r.style.transform="translateX(-50%) translateY(-50%) scale(0.1)",r.style.width="40rem",r.style.height="15rem";const o=document.createElement("form");o.setAttribute("autocomplete","off"),o.style.width="95%",o.setAttribute("onkeydown","return event.key != 'Enter';");const d=document.createElement("input");d.addEventListener("change",s),d.addEventListener("keydown",s),d.addEventListener("keyup",s),d.addEventListener("mousedown",s),d.setAttribute("type","text"),d.setAttribute("id","title"),d.setAttribute("size","20"),d.setAttribute("placeholder","List name"),d.setAttribute("maxlength","23"),d.style.width="100%",d.style.margin="0",d.value=""+n,setTimeout((function(){d.focus()}),500);const l=document.createElement("div");l.setAttribute("id","modalButtons");const c=document.createElement("button");c.textContent="Delete",c.setAttribute("id","deleteList"),c.addEventListener("click",(function(){B.deleteList(i)}));const u=document.createElement("button");u.textContent="Save",u.setAttribute("id","saveList"),u.addEventListener("click",(function(){B.saveList(i,n,d.value)})),l.appendChild(c),l.appendChild(u),o.appendChild(d),r.appendChild(o),r.appendChild(l),e.appendChild(r),t.appendChild(e)},exitModalOnButton:function(){e.parentNode.removeChild(e)}}})(),B={saveList:function(t,e,n){const i=t.dataset.index;o.lists[i].name=n,t.childNodes[1].textContent=n,W.exitModalOnButton()},deleteList:function(t){const e=t.dataset.index;t.parentNode.removeChild(t),j.changeDataIndices(),o.removeListByIndex(e),W.exitModalOnButton()},saveEdit:function(){localStorage.setItem("lists",JSON.stringify(o.lists));const t=j.getActiveListName();void 0!==t?(localStorage.setItem("lists",JSON.stringify(o.lists)),j.renderLists(),j.renderShortcuts(),q.renderListTasks(void 0,t)):(j.renderLists(),d.showAllTasks())},cancelEdit:function(){j.renderLists()}},j=(()=>{function t(){const t=document.querySelector("#listsList"),e=document.querySelector("#shortcutsList"),n=document.querySelector("#icons");"lists"==this.getAttribute("id")?(t.classList.toggle("hide"),t.classList.contains("hide")?setTimeout((function(){t.style.display="none"}),500):t.style.display="block",n.classList.toggle("hide")):"shortcuts"==this.getAttribute("id")&&(e.classList.toggle("hide"),e.classList.contains("hide")?setTimeout((function(){e.style.display="none"}),500):e.style.display="block"),this.firstChild.classList.toggle("fa-chevron-down"),this.firstChild.classList.toggle("fa-chevron-up")}function e(t){t.querySelectorAll("li").forEach(t=>{t.parentNode.removeChild(t)})}function n(){const e=document.querySelector("#listsList").querySelectorAll("li"),i=document.querySelector("#listsHeader");if(document.querySelector("#menu").querySelectorAll(".menu-item").forEach(t=>{t.classList.contains("notOverlay")||t.classList.toggle("overlayed")}),i.classList.toggle("editable"),i.classList.contains("editable")){i.lastElementChild.classList.add("hide"),i.removeChild(i.querySelector(".arrow"));const t=document.createElement("div");t.setAttribute("id","editIcons");const e=document.createElement("i");e.classList.add("fas","fa-times"),e.classList.add("editIcon","editHeader"),e.setAttribute("id","cross"),e.addEventListener("click",B.cancelEdit),e.addEventListener("click",n);const s=document.createElement("i");s.classList.add("fas","fa-check"),s.classList.add("editIcon","editHeader"),s.setAttribute("id","check"),s.addEventListener("click",B.saveEdit),s.addEventListener("click",n),t.appendChild(e),t.appendChild(s),i.appendChild(t)}else{i.removeChild(i.lastElementChild),i.lastElementChild.classList.remove("hide");const e=document.createElement("span");e.classList.add("arrow"),e.setAttribute("id","lists"),e.addEventListener("click",t);const n=document.createElement("i");n.classList.add("fas","fa-chevron-up"),e.appendChild(n),i.insertBefore(e,i.lastElementChild)}"edit"===this.getAttribute("id")&&e.forEach(t=>{if(t.classList.toggle("editable"),t.classList.contains("editable")){t.removeChild(t.lastChild);const e=document.createElement("i");e.classList.add("fas"),e.classList.add("fa-bars"),e.classList.add("dragIcon"),t.insertBefore(e,t.firstChild);const n=document.createElement("img");n.setAttribute("src","./images/edit.svg"),n.classList.add("editIcon"),n.addEventListener("click",W.showModal),t.appendChild(n),t.removeEventListener("click",q.renderListTasks)}else{t.removeChild(t.firstChild),t.removeChild(t.lastChild);const e=document.createElement("span");e.classList.add("taskNumber"),e.textContent=""+o.getList(t.textContent).items.length,t.appendChild(e),t.addEventListener("click",q.renderListTasks)}})}return document.querySelectorAll(".arrow").forEach(e=>{e.addEventListener("click",t)}),document.querySelector("#menuAddTask").addEventListener("click",(function(){c.showModal(this,void 0)})),document.querySelector("#menuBars").addEventListener("click",(function(){const t=document.querySelector("#menu");t.classList.toggle("hide"),t.querySelectorAll(".menu-item").forEach(t=>{t.classList.contains("notHide")?t.classList.toggle("minimize"):t.classList.toggle("hide"),"add"==t.getAttribute("id")&&t.classList.contains("minimize")?t.querySelector("button").innerHTML='<i class="fas fa-plus"></i>':"add"!=t.getAttribute("id")||t.classList.contains("minimize")||(t.querySelector("button").innerHTML='<i class="fas fa-plus"></i> Create a task')})})),document.querySelector("#addList").addEventListener("click",P.showModal),document.querySelector("#edit").addEventListener("click",n),{renderLists:()=>{const t=document.querySelector("#listsList");let n=o.getLists();e(t);let i=0;n.forEach(e=>{const n=document.createElement("li");n.setAttribute("id",e.getName().replace(" ","").toLowerCase());const s=document.createElement("p");s.textContent=e.getName();const a=document.createElement("span");a.classList.add("taskNumber"),a.textContent=""+e.getItems().length,n.setAttribute("data-index",i++),n.appendChild(s),n.appendChild(a),t.appendChild(n),n.addEventListener("click",q.renderListTasks)})},renderShortcuts:()=>{const t=document.createElement("li");t.textContent="Today",t.setAttribute("id","today");const n=document.createElement("li");n.textContent="Next 7 days",n.setAttribute("id","sevenDays");const i=document.createElement("li");i.textContent="All tasks",i.setAttribute("id","allTasks"),i.addEventListener("click",d.showAllTasks);const s=document.querySelector("#shortcutsList");e(s),s.appendChild(t),s.appendChild(n),s.appendChild(i)},getActiveListName:function(){let t;return document.querySelector("#listsList").querySelectorAll("li").forEach(e=>{e.classList.contains("active")&&(t=e.querySelector("p").textContent,q.currentList=e)}),t},_editableLists:n,changeDataIndices:function(){const t=document.querySelector("#listsList");let e=0;t.querySelectorAll("li").forEach(t=>{t.dataset.index=e++})}}})();window.onload=(o.setListsToStorage(),j.renderLists(),void j.renderShortcuts())}]);